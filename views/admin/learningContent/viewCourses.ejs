<style>
  .menu_section{
    display: none;
  }
  .courses-sidebar {
    display: block;
}
</style>
<div class="right_col" role="main">
  <div class="back-page">
      <ol class="breadcrumb">  
          <li class="breadcrumb-item"><a href="#">Courses List</a></li>
          <li class="breadcrumb-item"><a href="#">Early Reading Program</a></li>
          <li class="breadcrumb-item active">Preview</li>
      </ol>
  </div>

  <div class="card-block mb-30">
    
    <div class="tab-content">
      <div class="tab-pane fade show active" id="chp1" role="tabpanel" aria-labelledby="chp1-tab">
        <div class="slideshow">
          <% for(slides of content.slides){ %>
          <div class="item">
            <div class="row">
              <div class="slide-duration">
                <h3 class="title-text mb-0">Total Duration </h3>
                <span class="the-timer"><i class="fa fa-clock-o"></i> <%=slides.duration%> hrs</span>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-7">
                <h3><%=slides.title%></h3>
                <%-slides.description%>
                <% if(slides.attachments) { %>
                <div class="attachment-block">
                  <h3 class="title-text mb-3">Attachment</h3>
                  <div class="row">
                    <div class="col-sm-12 col-md-4">
                      <a class="attch-items" href="/LearningContent/<%=slides.attachments%>" target="_blank">View PDF</a>
                    </div>
                  </div>
                </div>
                <% } if(slides.video_url) {%>
                <div class="attachment-block">
                  <h3 class="title-text mb-3">Video </h3>
                  <div class="row">
                    <div class="col-sm-12 col-md-4">
                      <a class="attch-items" href="<%=slides.video_url%>" target="_blank">Video Url</a>
                    </div>
                  </div>
                </div>
                <% } %>
              </div>
              
              <% if (slides.video !='') {  %>
              <div class="col-sm-12 col-md-5">
                <div class="preview-thumb">
                  <video width="320" height="240" loop autoplay muted controls>
                    <source src="/LearningContent/<%=slides.video%>" type="video/mp4">
                </div>
              </div>
              <% } %>
            </div>
          </div>
          <% } %>
        </div>
        <ul class="slide-bottom">
          <li class="prev"><a href="javascript:void(0);" class="theme-btn">Previous</a></li>
          <li>
              <div class="slides-numbers" style="display: block;">
                  <span class="active">01</span> of <span class="total"></span>
              </div>
          </li>
          <li class="next"><a href="javascript:void(0);" class="theme-btn">Next</a></li>
      </ul>
      </div>
      
    </div>
  </div>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
<script>
var helpers = {
addZeros: function (n) {
  return (n < 10) ? '0' + n : '' + n;
}
};

function sliderInit() {
var $slider = $('.slideshow');
$slider.each(function() {
  var $sliderParent = $(this).parent();
  $(this).slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: false,
    dots: false,
    arrow:false,
    infinite: false,
    adaptiveHeight: true,
    draggable: false,
    swipeToSlide: false,
    accessibility: false,
    
  //fade: true,
    prevArrow: $('.prev'),
    nextArrow: $('.next'),
    responsive: [
      {
        breakpoint: 767,
        settings: {
          adaptiveHeight: true
        }
      }
    ]
  });

  if ($(this).find('.item').length > 1) {
    $(this).siblings('.slides-numbers').show();
  }

  $(this).on('afterChange', function(event, slick, currentSlide){
    $sliderParent.find('.slides-numbers .active').html(helpers.addZeros(currentSlide + 1));
  });

  var sliderItemsNum = $(this).find('.slick-slide').not('.slick-cloned').length;
  $sliderParent.find('.slides-numbers .total').html(helpers.addZeros(sliderItemsNum));

});
};
$('.slideshow').on('beforeChange', function(event, slick, currentSlide, nextSlide){
$('.slide-action li.active').removeClass('active');
$('.slide-action li').eq(nextSlide).addClass('active');
});

$('a[data-slide]').click(function(e) {
 e.preventDefault();
 var slideno = $(this).data('slide');
 $('.slideshow').slick('slickGoTo', slideno - 1);
 $('.slide-action li.active').removeClass('active');
 $(this).addClass('active');
});

sliderInit();
</script>